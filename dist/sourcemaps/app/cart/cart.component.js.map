{"version":3,"sources":["app/cart/cart.component.js"],"names":["CartPageController","Cart","History","$state","items","totalPrice","calcTotal","listen","reduce","res","item","option","remove","add","push","clear","go","angular","module","name","config","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;AAEA,OAAO,eAAe,SAAS,cAAc;EAC3C,OAAO;;;AAGT,IAAI,eAAe,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AANhiB,IAAA,QAAA,QAAA;;AAUA,IAAI,SAAS,uBAAuB;;AATpC,IAAA,SAAA,QAAA;;AAaA,IAAI,SAAS,uBAAuB;;AAZpC,IAAA,cAAA,QAAA;;AAgBA,IAAI,eAAe,uBAAuB;;AAf1C,QAAA;;AAmBA,SAAS,uBAAuB,KAAK,EAAE,OAAO,OAAO,IAAI,aAAa,MAAM,EAAE,SAAS;;AAEvF,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAEhH,IArBMA,qBAqBmB,YAAY;;;EAnBnC,SAAA,mBAAaC,MAAMC,SAASC,QAAQ;IAAA,gBAAA,MAAA;;IAClC,KAAKF,OAAOA;IACZ,KAAKC,UAAUA;IACf,KAAKC,SAASA;IACd,KAAKC,QAAQ;IACb,KAAKC,aAAa;;;EA0BpB,aAAa,oBAAoB,CAAC;IAChC,KAAK;IACL,OAAO,SAAS,UAzBP;MAAA,IAAA,QAAA;;MACT,KAAKD,QAAQ,KAAKH,KAAKG;MACvB,KAAKE,UAAU,KAAKF;;MAEpB,KAAKH,KAAKM,OAAO,UAAA,OAAS;QACxB,MAAKD,UAAUF;;;KA8BhB;IACD,KAAK;IACL,OAAO,SAAS,UA5BPA,OAAO;MAChB,KAAKC,aAAaD,MAAMI,OAAO,UAACC,KAAKC,MAAN;QAAA,OAAeD,OAAOC,KAAKL;SAAY;;KAgCrE;IACD,KAAK;IACL,OAAO,SAAS,OA/BVK,MAAMC,QAAQ;MACpB,IAAGA,QAAQ;QACTD,KAAKC,UAAU;;;MAGjB,KAAKV,KAAKW,OAAOF;;KAiChB;IACD,KAAK;IACL,OAAO,SAAS,IAhCbA,MAAM;MACT,KAAKT,KAAKY,IAAIH;;KAkCb;IACD,KAAK;IACL,OAAO,SAAS,SAjCR;MACR,KAAKR,QAAQY,KAAK,EAACV,OAAO,KAAKH,KAAKG,OAAOC,YAAY,KAAKA;MAC5D,KAAKJ,KAAKc;MACV,KAAKZ,OAAOa,GAAG;;;;EAqCjB,OAAO;;;AAGT,QAAQ,UApCOC,QACZC,OAAO,YAAY,CAAC,OAAA,QAAaC,OACjCC,OAFY,OAAA,SAGZC,UAAU,QAAQ;EACjBC,aAAa,OAAA,QAAaH;EAC1BI,YAAYvB;EACZwB,cAAc;GAkCf","file":"../../../app/cart/cart.component.js","sourcesContent":["import MainPageConfig from './cart.config';\nimport cartTemplate from './cart.tpl';\nimport swal from 'sweetalert';\nimport './cart.css!'\n\nclass CartPageController {\n  /*@ngInject*/\n  constructor (Cart, History, $state) {\n    this.Cart = Cart;\n    this.History = History;\n    this.$state = $state;\n    this.items = [];\n    this.totalPrice = 0;\n  }\n\n  $onInit () {\n    this.items = this.Cart.items;\n    this.calcTotal(this.items);\n\n    this.Cart.listen(items => {\n      this.calcTotal(items);\n    })\n  }\n\n  calcTotal (items) {\n    this.totalPrice = items.reduce((res, item) => res += item.totalPrice, 0);\n  }\n\n  remove (item, option) {\n    if(option) {\n      item[option] = true\n    }\n\n    this.Cart.remove(item)\n  }\n\n  add (item) {\n    this.Cart.add(item)\n  }\n\n  submit () {\n    this.History.push({items: this.Cart.items, totalPrice: this.totalPrice});\n    this.Cart.clear();\n    this.$state.go('history');\n  }\n}\n\nexport default angular\n  .module('app.cart', [cartTemplate.name])\n  .config(MainPageConfig)\n  .component('cart', {\n    templateUrl: cartTemplate.name,\n    controller: CartPageController,\n    controllerAs: 'Cart'\n  });\n"],"sourceRoot":"/src"}